<div class="header-content">

  <button mat-button [matMenuTriggerFor]="mainNavigationMenu" class="mobile-menu">
    <i class="material-icons md-18">menu</i>
  </button>

  <a routerLink="/" class="logo">
    <img src="/assets/img/common/logo-white.png" alt="logo">
  </a>

  <div class="main-navigation">
    <a routerLink="/shop" mat-button routerLinkActive="active-link">Магазин</a>
    <a routerLink="/forum" mat-button routerLinkActive="active-link">Блог</a>
    <a routerLink="/contacts" mat-button routerLinkActive="active-link">Контакти</a>
  </div>

  <div class="login-button-wrapper" *ngIf="!securityService.isAuthenticated()">

    <div class="login-with-bucket">
      <button mat-button [matMenuTriggerFor]="bucket" class="bucket-button">
        <div class="bucket">
          <i class="fas fa-shopping-cart"></i>
            <div class="bucket-index" *ngIf="bucketService.getBucket().length > 0">
            <div>{{bucketService.getBucket().length}}</div>
            </div>
        </div>
      </button>

      <button mat-button [matMenuTriggerFor]="authMenu" class="login-button">
        <i class="material-icons md-18">exit_to_app</i>
        <span>Увійти</span>
      </button>

      <button mat-button [matMenuTriggerFor]="authMenu" class="mobile-login-button">
        <mat-icon aria-label="Login">account_circle</mat-icon>
      </button>
    </div>


  </div>

  <div class="login-button-wrapper" *ngIf="securityService.isAuthenticated()">

    <div class="login-with-bucket">
      <button mat-button [matMenuTriggerFor]="bucket" class="bucket-button">
        <div class="bucket" >
          <i class="fas fa-shopping-cart"></i>
          <div class="bucket-index" *ngIf="bucketService.getBucket().length > 0">
            <div>{{bucketService.getBucket().length}}</div>
          </div>
        </div>
      </button>

      <button mat-button [matMenuTriggerFor]="userMenu" class="login-button">
        <mat-icon aria-label="Login">account_circle</mat-icon>
        <span>Василько Пупкін</span>
      </button>

      <button mat-button [matMenuTriggerFor]="userMenu" class="mobile-login-button">
        <mat-icon aria-label="Login">account_circle</mat-icon>
      </button>
    </div>

  </div>



</div>

<mat-menu #authMenu="matMenu" class="auth-menu">
  <button class="facebook-auth" (click)="securityService.login()">
    <i class="fab fa-facebook-f"></i>
    <span>Facebook</span>
  </button>
  <button class="google-auth" (click)="securityService.login()">
    <i class="fab fa-google"></i>
    <span>Google</span>
  </button>
</mat-menu>

<mat-menu #userMenu="matMenu" class="auth-menu">
  <button class="user-menu-button">
    <i class="fas fa-users"></i>
    <span>Мій профіль</span>
  </button>
  <button class="user-menu-button">
    <i class="fas fa-hand-holding-heart"></i>
    <span>Список бажань</span>
  </button>
  <button class="user-menu-button">
    <i class="fas fa-shopping-cart"></i>
    <span>Мої покупки</span>
  </button>
  <button class="user-menu-button">
    <i class="far fa-heart"></i>
    <span>Улюблені статті</span>
  </button>
  <button class="user-menu-button" (click)="securityService.logout()">
    <i class="fas fa-sign-out-alt"></i>
    <span>Вийти</span>
  </button>
</mat-menu>

<mat-menu #bucket="matMenu" class="bucket-menu">
  <div class="default-bucket-info" *ngIf="bucketService.getBucket().length == 0">У вас ще немає покупок</div>
  <div *ngIf="bucketService.getBucket().length > 0">
    <div class="bucket-flower-button" *ngFor="let bucketFlower of bucketService.getBucket()">Квітка —{{bucketFlower.name}}, кількість — {{bucketFlower.amount}}</div>
  </div>
</mat-menu>


<mat-menu #mainNavigationMenu="matMenu" class="main-navigation-menu">
  <a routerLink="/" mat-button routerLinkActive="active-link">Головна</a>
  <a routerLink="/forum" mat-button routerLinkActive="active-link">Блог</a>
  <a routerLink="/shop" mat-button routerLinkActive="active-link">Магазин</a>
  <a routerLink="/contacts" mat-button routerLinkActive="active-link">Контакти</a>
</mat-menu>

