<div class="wrapper" *ngIf="flower">

  <div class="title">
    <span class="flower-type-name">{{flower.flowerType.nameSingle}} </span>
    <span class="flower-name">{{flower.name}}</span>
  </div>
  <div class="content">

    <div class="image" [ngStyle]="{'background-image':'url(' + flower.image + ')'}"></div>

    <div class="add-to-card-block">

      <div class="add-to-card-inner">

        <table>

          <tr class="header">
            <th>Розмір</th>
            <th>Ціна</th>
            <th>Кількість</th>
          </tr>

          <ng-template ngFor let-flowerSize [ngForOf]="flower.flowerSizes" let-i="index">
            <tr [ngClass]="{'flower-size-empty': flower.flowerSizes[i].available == 0}">
              <td>{{flowerSize.size.name}}</td>
              <td>{{flowerSize.price / 100 + ' грн'}}</td>
              <td>
                <amount-controlled-input name="amount" [(ngModel)]="bucketItems[i].amount" [availableAmount]="bucketLocalService.getMaxAmountForFlowerSize(flower.flowerSizes[i].id, flower.flowerSizes[i].available)" [disabled]="flower.flowerSizes[i].available == 0"></amount-controlled-input>
              </td>
            </tr>
          </ng-template>

        </table>

        <button mat-flat-button color="accent" class="add-to-card-button" (click)="addToBucket()">
          <i class="material-icons">add_shopping_cart</i>
          <span>Купити</span>
        </button>

      </div>

    </div>

    <div class="specifications">

      <div class="title">Характеристики</div>

      <div class="specification">
        <div class="specification-label">Назва</div>
        <div class="specification-value">{{flower.nameOriginal}}</div>
      </div>
      <div class="specification">
        <div class="specification-label">Група</div>
        <div class="specification-value">{{flower.groupName}}</div>
      </div>
      <div class="specification">
        <div class="specification-label">Посадковий матеріал</div>
        <div class="specification-value">{{flower.flowerType.plantingMaterialType}}</div>
      </div>
      <div class="specification">
        <div class="specification-label">Висота стебла</div>
        <div class="specification-value">{{flower.flowerHeightMin}} см - {{flower.flowerHeightMax}} см</div>
      </div>
      <div class="specification">
        <div class="specification-label">Розмір квітки</div>
        <div class="specification-value">{{flower.flowerSizeMin}} см - {{flower.flowerSizeMax}} см</div>
      </div>
    </div>

    <div class="description" *ngIf="flower.description">
      <div class="title">Опис</div>
      <div class="value">{{flower.description}}</div>
    </div>

  </div>

</div>

